# Titan-AAS Environment Configuration
# Copy this file to .env and modify as needed

# ============================================
# Core Settings
# ============================================
TITAN_APP_NAME=titan-aas
TITAN_ENV=dev
TITAN_HOST=0.0.0.0
TITAN_PORT=8080
TITAN_LOG_LEVEL=INFO

# ============================================
# Database
# ============================================
# PostgreSQL connection string
# Format: postgresql+asyncpg://user:password@host:port/database
DATABASE_URL=postgresql+asyncpg://titan:titan@localhost:5432/titan

# ============================================
# Redis Cache
# ============================================
# Redis connection string
# Format: redis://[password@]host:port/db
REDIS_URL=redis://localhost:6379/0

# ============================================
# Blob Storage
# ============================================
# Storage backend: local | s3 | minio | gcs | azure
BLOB_STORAGE_TYPE=local

# Local storage path (when BLOB_STORAGE_TYPE=local)
BLOB_STORAGE_PATH=/var/lib/titan/blobs

# Inline threshold in bytes (elements larger than this are externalized)
BLOB_INLINE_THRESHOLD=65536

# S3/MinIO settings (when BLOB_STORAGE_TYPE=s3|minio)
# S3_BUCKET=
# S3_PREFIX=
# S3_ENDPOINT_URL=
# S3_REGION=us-east-1
# AWS_ACCESS_KEY_ID=
# AWS_SECRET_ACCESS_KEY=

# GCS settings (when BLOB_STORAGE_TYPE=gcs)
# GCS_BUCKET=
# GCS_PREFIX=
# GCS_PROJECT=
# GCS_CREDENTIALS_PATH=

# Azure Blob settings (when BLOB_STORAGE_TYPE=azure)
# AZURE_CONTAINER=
# AZURE_PREFIX=
# AZURE_STORAGE_CONNECTION_STRING=
# AZURE_ACCOUNT_URL=
# AZURE_ACCOUNT_KEY=
# AZURE_SAS_TOKEN=

# ============================================
# MQTT Broker (Optional)
# ============================================
# MQTT broker hostname or IP
MQTT_BROKER=localhost
MQTT_PORT=1883

# ============================================
# OIDC Authentication (Optional)
# ============================================
# Set OIDC_ISSUER to enable authentication
# Leave unset to disable authentication (anonymous access)

# OIDC provider issuer URL (e.g., Keycloak realm URL)
# OIDC_ISSUER=https://keycloak.example.com/realms/titan

# Expected audience in the token (default: app_name)
# OIDC_AUDIENCE=titan-aas

# Client ID for token validation (used for client roles in Keycloak)
# OIDC_CLIENT_ID=titan-aas

# JWT claim containing user roles (default: roles)
# OIDC_ROLES_CLAIM=roles

# ============================================
# Observability
# ============================================
# Enable/disable OpenTelemetry tracing
ENABLE_TRACING=true

# OTLP exporter endpoint (gRPC)
# Leave unset to use console exporter in dev
# OTLP_ENDPOINT=http://localhost:4317

# Enable/disable Prometheus metrics
ENABLE_METRICS=true
